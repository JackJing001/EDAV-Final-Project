<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Interactive component | EDAV Final Project</title>
  <meta name="description" content="Chapter 6 Interactive component | EDAV Final Project" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Interactive component | EDAV Final Project" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Interactive component | EDAV Final Project" />
  
  
  

<meta name="author" content="Siwen Xie, Yifan Jing, Yuao Zhao" />


<meta name="date" content="2021-04-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="results.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Final Project</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#overview"><i class="fa fa-check"></i><b>1.1</b> Overview</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#topic"><i class="fa fa-check"></i><b>1.2</b> Topic</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#questions"><i class="fa fa-check"></i><b>1.3</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#source"><i class="fa fa-check"></i><b>2.1</b> Source</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#information-about-the-dataset"><i class="fa fa-check"></i><b>2.2</b> Information about the dataset</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#details-about-variables"><i class="fa fa-check"></i><b>2.3</b> Details about variables</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#data-cleaning"><i class="fa fa-check"></i><b>3.1</b> Data Cleaning</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#count-na"><i class="fa fa-check"></i><b>4.1</b> Count NA</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#overall-visulizing"><i class="fa fa-check"></i><b>4.2</b> Overall visulizing</a></li>
<li class="chapter" data-level="4.3" data-path="missing-values.html"><a href="missing-values.html#position-score-pattern"><i class="fa fa-check"></i><b>4.3</b> Position-Score Pattern</a></li>
<li class="chapter" data-level="4.4" data-path="missing-values.html"><a href="missing-values.html#skill-score-pattern"><i class="fa fa-check"></i><b>4.4</b> Skill-Score Pattern</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a>
<ul>
<li class="chapter" data-level="6.1" data-path="interactive-component.html"><a href="interactive-component.html#data"><i class="fa fa-check"></i><b>6.1</b> Data</a></li>
<li class="chapter" data-level="6.2" data-path="interactive-component.html"><a href="interactive-component.html#interactive-graph"><i class="fa fa-check"></i><b>6.2</b> Interactive graph</a></li>
<li class="chapter" data-level="6.3" data-path="interactive-component.html"><a href="interactive-component.html#how-to-interactive"><i class="fa fa-check"></i><b>6.3</b> How to interactive</a></li>
<li class="chapter" data-level="6.4" data-path="interactive-component.html"><a href="interactive-component.html#results-1"><i class="fa fa-check"></i><b>6.4</b> Results</a></li>
<li class="chapter" data-level="6.5" data-path="interactive-component.html"><a href="interactive-component.html#who-is-gonna-win-the-world-cup"><i class="fa fa-check"></i><b>6.5</b> Who is gonna win the World Cup!</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EDAV Final Project</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interactive-component" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Interactive component</h1>
<div id="data" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Data</h2>
<p>This interactive graph shows overall and potential ratings of players in different nations. We choose Top 10 nations and players whose overall rating is greater than 75. The radius of the circle represents the number of players, so a circle with larger radius means more players with the same overall and potential rating.</p>
</div>
<div id="interactive-graph" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Interactive graph</h2>
<script src="https://d3js.org/d3.v6.js"></script>
<style>
body {
  margin: 0;
  font-family: arial, sans;
}

.label {
  font-size: 15px;
}

.legend{
  opacity: 1;
  transition: opacity 0.3s;
}

.legend text,
.axis text {
  font-size: 13px;
  fill: #333;
}

.axis path,
.axis line {
  fill: none;
  stroke-width:1px;
  stroke: #e7e7e7;
}

circle {
  stroke: #fff;
}

.bubble {
  opacity: 1;
  transition: opacity 0.3s;
}

.bubble text {
  opacity: 0;
  pointer-events: none;
  font-size: 15px;
}

.bubble:hover text {
  opacity: 1;
}

.bubble:hover circle {
  fill-opacity: 1;
}

</style>
<div id="plot">

</div>
<script>
var margin = { top: 30, right: 85, bottom: 40, left: 50 };
var width = 780 - margin.left - margin.right;
var height = 450 - margin.top - margin.bottom;

var svg = d3.select("div#plot")
  .append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

var xscale = d3.scaleLinear()
  .domain([75, 98])
  .range([0,width]);

var yscale = d3.scaleLinear()
  .domain([75, 98])
  .range([height,0]);

var radius = d3.scaleSqrt()
  .range([1,16]);

var xAxis = d3.axisBottom()
  .tickSize(-height)
  .scale(xscale);

var yAxis = d3.axisLeft()
  .tickSize(-width)
  .scale(yscale)

var color = d3.scaleOrdinal(d3.schemeCategory10);

d3.csv("https://raw.githubusercontent.com/JackJing001/fifa21data/main/FIFArating.csv").then(function(data) {
  console.log(data);
  // data pre-processing
  data.forEach(function(d) {
    d.y = +d["Potential"];
    d.x = +d["Overall"];
    d.r = +d["Freq"];
  });

  radius.domain(d3.extent(data, function(d) {
    return d.r;
  })).nice();

  svg.append("g")
    .attr("transform", "translate(0," + height + ")")
    .attr("class", "x axis")
    .call(xAxis);

  svg.append("g")
    .attr("transform", "translate(0,0)")
    .attr("class", "y axis")
    .call(yAxis);

  var group = svg.selectAll("g.bubble")
    .data(data)
    .enter().append("g")
    .attr("class", "bubble")
    .attr("transform", function(d) {
      return "translate(" + xscale(d.x) + "," + yscale(d.y) + ")"
    });

  group
    .append("circle")
    .attr("r", function(d) { return radius(d.r);  })
    .style("fill", function(d) {
      return color(d["Nationality"]);
    });
    
  group
    .append("text")
    .attr("x", function(d) { return radius(d.r); })
    .attr("alignment-baseline", "middle")
    .text(function(d) {
      return d["Overall"]+"/"+d["Potential"];  
    });

  svg.append("text")
    .attr("x", 6)
    .attr("y", -2)
    .attr("class", "label")
    .text("Potential");

  svg.append("text")
    .attr("x", width-2)
    .attr("y", height-6)
    .attr("text-anchor", "end")
    .attr("class", "label")
    .text("Oveall");

  var legend = svg.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(2," + i * 14 + ")"; });

  legend.append("rect")
      .attr("x", width)
      .attr("width", 12)
      .attr("height", 12)
      .style("fill", color);

  legend.append("text")
      .attr("x", width + 16)
      .attr("y", 6)
      .attr("dy", ".35em")
      .style("text-anchor", "start")
      .text(function(d) { return d; });

  legend.on("click", function() {
      d3.selectAll(".legend")
        .style("opacity", 0.1);
      d3.select(this)
        .style("opacity", 1);
      var nation = d3.select(this).select('text').text();
      d3.selectAll("circle")
        .style("opacity", 0)
        .filter(function(d) { return d["Nationality"] == nation; })
        .style("opacity", 1);
    });
    
  group.on("click", function() {
      d3.selectAll(".legend")
        .style("opacity", 1);
      d3.selectAll("circle")
        .style("opacity", 1);
    });
    
});



</script>
</div>
<div id="how-to-interactive" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> How to interactive</h2>
<p>Because many players have the same overall and potential ratings, the static graph is hard to show the different rating distributions in different nations. You can click the rectangular label on the right to check players’ ratings in different nations. Then move your mouse over the circle to check the exact “Overall rating/Potential rating”.</p>
<p>If you want to reset the graph, just click a circle that you like :)</p>
</div>
<div id="results-1" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> Results</h2>
<ol style="list-style-type: decimal">
<li>Brazil and Spain have the most good players whose overall ratings are greater than 75.</li>
<li>However, if we only consider players whose overall ratings are greater than 85, then Brazil, France and Germany own the most excellent players.</li>
<li>Only 4 players’ overall ratings are greater than 90, they come from Argentina, Belgium, Brazil and Portugal. All of them are the most famous super stars in football world. Although I don’t put their names in the graph, I believe if you know some football, you know they are Messi, De Bruyne, Neymar and C. Ronaldo.</li>
<li>England, Italy, Portugal are the most potential nations. Although they don’t have so many players whose overall ratings are greater than 85, they own a lot of players whose potential ratings are greater than 85.</li>
<li>Spain owns a lot of good players whose overall ratings are greater than 75, but most of them are not potential or excellent enough.</li>
</ol>
</div>
<div id="who-is-gonna-win-the-world-cup" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> Who is gonna win the World Cup!</h2>
<p>According to the data in FIFA21, we guess Brazil, France and Germany are the
strongest competitors for the World Cup Championship in 2022. But in 2026, England, Italy and Portugal will join their competitions.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="results.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/JackJing001/EDAV-Final-Project/edit/main/06-interactive.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/JackJing001/EDAV-Final-Project/blob/main/06-interactive.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
