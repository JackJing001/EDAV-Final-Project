<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | EDAV Final Project</title>
  <meta name="description" content="Chapter 3 Data transformation | EDAV Final Project" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | EDAV Final Project" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | EDAV Final Project" />
  
  
  

<meta name="author" content="Siwen Xie, Yifan Jing, Yuao Zhao" />


<meta name="date" content="2021-03-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Final Project</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#overview"><i class="fa fa-check"></i><b>1.1</b> Overview</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#topic"><i class="fa fa-check"></i><b>1.2</b> Topic</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#questions"><i class="fa fa-check"></i><b>1.3</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#source"><i class="fa fa-check"></i><b>2.1</b> Source</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#information-about-the-dataset"><i class="fa fa-check"></i><b>2.2</b> Information about the dataset</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#details-about-variables"><i class="fa fa-check"></i><b>2.3</b> Details about variables</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#data-cleaning"><i class="fa fa-check"></i><b>3.1</b> Data Cleaning</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#count-na"><i class="fa fa-check"></i><b>4.1</b> Count NA</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#overall-visulizing"><i class="fa fa-check"></i><b>4.2</b> Overall visulizing</a></li>
<li class="chapter" data-level="4.3" data-path="missing-values.html"><a href="missing-values.html#position-score-pattern"><i class="fa fa-check"></i><b>4.3</b> Position-Score Pattern</a></li>
<li class="chapter" data-level="4.4" data-path="missing-values.html"><a href="missing-values.html#skill-score-pattern"><i class="fa fa-check"></i><b>4.4</b> Skill-Score Pattern</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EDAV Final Project</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data transformation</h1>
<div id="data-cleaning" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Data Cleaning</h2>
<p>The original data is as follows:</p>
<pre><code>##     X     ID                         Name Age
## 1  81 158023                 Lionel Messi  33
## 2  95  20801 C. Ronaldo dos Santos Aveiro  35
## 3 160 190871   Neymar da Silva Santos Jr.  28
## 4 205 188545           Robert Lewandowski  31
## 5 267 192985              Kevin De Bruyne  29
## 6 579 200389                    Jan Oblak  27
##                                              Photo Nationality
## 1 https://cdn.sofifa.com/players/158/023/20_60.png   Argentina
## 2 https://cdn.sofifa.com/players/020/801/20_60.png    Portugal
## 3 https://cdn.sofifa.com/players/190/871/20_60.png      Brazil
## 4 https://cdn.sofifa.com/players/188/545/20_60.png      Poland
## 5 https://cdn.sofifa.com/players/192/985/20_60.png     Belgium
## 6 https://cdn.sofifa.com/players/200/389/20_60.png    Slovenia
##                                  Flag Overall Potential                Club
## 1 https://cdn.sofifa.com/flags/ar.png      93        93        FC Barcelona
## 2 https://cdn.sofifa.com/flags/pt.png      92        92            Juventus
## 3 https://cdn.sofifa.com/flags/br.png      91        91 Paris Saint-Germain
## 4 https://cdn.sofifa.com/flags/pl.png      91        91   FC Bayern München
## 5 https://cdn.sofifa.com/flags/be.png      91        91     Manchester City
## 6 https://cdn.sofifa.com/flags/si.png      91        93     Atlético Madrid
##                                       Club.Logo    Value   Wage Special
## 1 https://cdn.sofifa.com/teams/241/light_30.png 67500000 560000    2231
## 2  https://cdn.sofifa.com/teams/45/light_30.png 46000000 220000    2221
## 3  https://cdn.sofifa.com/teams/73/light_30.png 90000000 270000    2175
## 4  https://cdn.sofifa.com/teams/21/light_30.png 80000000 240000    2195
## 5  https://cdn.sofifa.com/teams/10/light_30.png 87000000 370000    2304
## 6 https://cdn.sofifa.com/teams/240/light_30.png 75000000 125000    1413
##   Preferred.Foot Weak.Foot Skill.Moves International.Reputation      Work.Rate
## 1           Left       4 ★         4 ★                      5 ★    Medium/ Low
## 2          Right       4 ★         5 ★                      5 ★      High/ Low
## 3          Right       5 ★         5 ★                      5 ★   High/ Medium
## 4          Right       4 ★         4 ★                      4 ★   High/ Medium
## 5          Right       5 ★         4 ★                      4 ★     High/ High
## 6          Right       3 ★         1 ★                      3 ★ Medium/ Medium
##              Body.Type Real.Face Release.Clause Position Jersey.Number
## 1                Messi       Yes      138400000       RW            10
## 2           C. Ronaldo       Yes       75900000       LS             7
## 3               Neymar       Yes      166500000       LW            10
## 4 PLAYER_BODY_TYPE_276       Yes      132000000       ST             9
## 5 PLAYER_BODY_TYPE_321       Yes      161000000      RCM             7
## 6 PLAYER_BODY_TYPE_259       Yes      159400000       GK             1
##      Joined Contract.Valid.Until Height Weight   LS   ST   RS   LW   LF   CF
## 1  1-Jul-04                 2021    5&#39;7 159lbs 89+3 89+3 89+3 92+0 93+0 93+0
## 2 10-Jul-18                 2022    6&#39;2 183lbs 91+1 91+1 91+1 89+0 91+0 91+0
## 3  3-Aug-17                 2022    5&#39;9 150lbs 84+3 84+3 84+3 90+0 89+0 89+0
## 4  1-Jul-14                 2023    6&#39;0 176lbs 89+2 89+2 89+2 85+0 87+0 87+0
## 5 30-Aug-15                 2023   5&#39;11 154lbs 83+3 83+3 83+3 88+0 88+0 88+0
## 6 16-Jul-14                 2023    6&#39;2 192lbs                              
##     RF   RW  LAM  CAM  RAM   LM  LCM   CM  RCM   RM  LWB  LDM  CDM  RDM  RWB
## 1 93+0 92+0 93+0 93+0 93+0 91+2 87+3 87+3 87+3 91+2 66+3 65+3 65+3 65+3 66+3
## 2 91+0 89+0 88+3 88+3 88+3 88+3 81+3 81+3 81+3 88+3 65+3 61+3 61+3 61+3 65+3
## 3 89+0 90+0 90+1 90+1 90+1 90+1 83+3 83+3 83+3 90+1 67+3 62+3 62+3 62+3 67+3
## 4 87+0 85+0 85+3 85+3 85+3 83+3 79+3 79+3 79+3 83+3 64+3 65+3 65+3 65+3 64+3
## 5 88+0 88+0 89+2 89+2 89+2 89+2 89+2 89+2 89+2 89+2 79+3 80+3 80+3 80+3 79+3
## 6                                                                           
##     LB  LCB   CB  RCB   RB   GK Likes Dislikes Following Crossing Finishing
## 1 62+3 52+3 52+3 52+3 62+3 19+3  1106      344      1127       85        95
## 2 61+3 54+3 54+3 54+3 61+3 20+3   912      328       940       84        95
## 3 62+3 49+3 49+3 49+3 62+3 20+3   595      170      1384       85        87
## 4 61+3 60+3 60+3 60+3 61+3 19+3   251       43       564       71        94
## 5 75+3 69+3 69+3 69+3 75+3 21+3   341       29      1087       94        82
## 6                                 181       14       719       13        11
##   Heading.Accuracy Short.Passing Volleys Dribbling Curve FK.Accuracy
## 1               70            91      88        96    93          94
## 2               90            82      86        88    81          76
## 3               62            87      87        95    88          89
## 4               85            84      89        85    79          85
## 5               55            94      82        88    85          83
## 6               15            43      13        12    13          14
##   Long.Passing Ball.Control Acceleration Sprint.Speed Agility Reactions Balance
## 1           91           96           91           80      91        94      95
## 2           77           92           87           91      87        95      71
## 3           81           95           94           89      96        91      83
## 4           70           88           77           78      77        93      82
## 5           93           92           77           76      78        91      76
## 6           40           30           43           60      67        88      49
##   Shot.Power Jumping Stamina Strength Long.Shots Aggression Interceptions
## 1         86      68      72       69         94         44            40
## 2         94      95      84       78         93         63            29
## 3         80      62      81       50         84         51            36
## 4         89      84      76       86         85         81            49
## 5         91      63      89       74         91         76            66
## 6         59      78      41       78         12         34            19
##   Positioning Vision Penalties Composure Defensive.Awareness Standing.Tackle
## 1          93     95        75        96                  32              35
## 2          95     82        84        95                  28              32
## 3          87     90        92        93                  35              30
## 4          94     79        88        88                  35              42
## 5          88     94        84        91                  68              65
## 6          11     65        11        68                  27              12
##   Sliding.Tackle GK.Diving GK.Handling GK.Kicking GK.Positioning GK.Reflexes
## 1             24         6          11         15             14           8
## 2             24         7          11         15             14          11
## 3             29         9           9         15             15          11
## 4             19        15           6         12              8          10
## 5             53        15          13          5             10          13
## 6             18        87          92         78             90          90</code></pre>
<p>Most of the columns could be directly used. However, there are several columns that we need to clean. The three columns we first want to clean is Weak.Foot, Skill.Moves and International.Reputation. These three columns are rate of the player for these three aspects, rating from 1 star to 5 star. In order to make these columns work in our future visualization, we decide to remove the star sign after the rating, changing the data type from char to int.</p>
<p>Secondly, we want to clean the position statistics for each player from column LS to column GK. The original data format is “int+int” (i.e.87+3). We decided to only keep the number before the plus sign to represent the rating.</p>
<p>Finally, another column we want to clean is Working.Rate. This column represents data in a format i.e. “High/Low”. We decide to split this column into two column: working_rate1 and working_rate2 by “/”. The working rate before “/” is attack work rate. The working rate after “/” is defense work rate.</p>
<p>After transformation, the data looks like:</p>
<pre><code>##     X     ID                         Name Age
## 1  81 158023                 Lionel Messi  33
## 2  95  20801 C. Ronaldo dos Santos Aveiro  35
## 3 160 190871   Neymar da Silva Santos Jr.  28
## 4 205 188545           Robert Lewandowski  31
## 5 267 192985              Kevin De Bruyne  29
## 6 579 200389                    Jan Oblak  27
##                                              Photo Nationality
## 1 https://cdn.sofifa.com/players/158/023/20_60.png   Argentina
## 2 https://cdn.sofifa.com/players/020/801/20_60.png    Portugal
## 3 https://cdn.sofifa.com/players/190/871/20_60.png      Brazil
## 4 https://cdn.sofifa.com/players/188/545/20_60.png      Poland
## 5 https://cdn.sofifa.com/players/192/985/20_60.png     Belgium
## 6 https://cdn.sofifa.com/players/200/389/20_60.png    Slovenia
##                                  Flag Overall Potential                Club
## 1 https://cdn.sofifa.com/flags/ar.png      93        93        FC Barcelona
## 2 https://cdn.sofifa.com/flags/pt.png      92        92            Juventus
## 3 https://cdn.sofifa.com/flags/br.png      91        91 Paris Saint-Germain
## 4 https://cdn.sofifa.com/flags/pl.png      91        91   FC Bayern München
## 5 https://cdn.sofifa.com/flags/be.png      91        91     Manchester City
## 6 https://cdn.sofifa.com/flags/si.png      91        93     Atlético Madrid
##                                       Club.Logo    Value   Wage Special
## 1 https://cdn.sofifa.com/teams/241/light_30.png 67500000 560000    2231
## 2  https://cdn.sofifa.com/teams/45/light_30.png 46000000 220000    2221
## 3  https://cdn.sofifa.com/teams/73/light_30.png 90000000 270000    2175
## 4  https://cdn.sofifa.com/teams/21/light_30.png 80000000 240000    2195
## 5  https://cdn.sofifa.com/teams/10/light_30.png 87000000 370000    2304
## 6 https://cdn.sofifa.com/teams/240/light_30.png 75000000 125000    1413
##   Preferred.Foot Weak.Foot Skill.Moves International.Reputation      Work.Rate
## 1           Left         4           4                        5    Medium/ Low
## 2          Right         4           5                        5      High/ Low
## 3          Right         5           5                        5   High/ Medium
## 4          Right         4           4                        4   High/ Medium
## 5          Right         5           4                        4     High/ High
## 6          Right         3           1                        3 Medium/ Medium
##   work_rate_attack work_rate_defense            Body.Type Real.Face
## 1           Medium               Low                Messi       Yes
## 2             High               Low           C. Ronaldo       Yes
## 3             High            Medium               Neymar       Yes
## 4             High            Medium PLAYER_BODY_TYPE_276       Yes
## 5             High              High PLAYER_BODY_TYPE_321       Yes
## 6           Medium            Medium PLAYER_BODY_TYPE_259       Yes
##   Release.Clause Position Jersey.Number    Joined Contract.Valid.Until Height
## 1      138400000       RW            10  1-Jul-04                 2021    5&#39;7
## 2       75900000       LS             7 10-Jul-18                 2022    6&#39;2
## 3      166500000       LW            10  3-Aug-17                 2022    5&#39;9
## 4      132000000       ST             9  1-Jul-14                 2023    6&#39;0
## 5      161000000      RCM             7 30-Aug-15                 2023   5&#39;11
## 6      159400000       GK             1 16-Jul-14                 2023    6&#39;2
##   Weight LS ST RS LW LF CF RF RW LAM CAM RAM LM LCM CM RCM RM LWB LDM CDM RDM
## 1 159lbs 89 89 89 92 93 93 93 92  93  93  93 91  87 87  87 91  66  65  65  65
## 2 183lbs 91 91 91 89 91 91 91 89  88  88  88 88  81 81  81 88  65  61  61  61
## 3 150lbs 84 84 84 90 89 89 89 90  90  90  90 90  83 83  83 90  67  62  62  62
## 4 176lbs 89 89 89 85 87 87 87 85  85  85  85 83  79 79  79 83  64  65  65  65
## 5 154lbs 83 83 83 88 88 88 88 88  89  89  89 89  89 89  89 89  79  80  80  80
## 6 192lbs NA NA NA NA NA NA NA NA  NA  NA  NA NA  NA NA  NA NA  NA  NA  NA  NA
##   RWB LB LCB CB RCB RB GK Likes Dislikes Following Crossing Finishing
## 1  66 62  52 52  52 62 19  1106      344      1127       85        95
## 2  65 61  54 54  54 61 20   912      328       940       84        95
## 3  67 62  49 49  49 62 20   595      170      1384       85        87
## 4  64 61  60 60  60 61 19   251       43       564       71        94
## 5  79 75  69 69  69 75 21   341       29      1087       94        82
## 6  NA NA  NA NA  NA NA NA   181       14       719       13        11
##   Heading.Accuracy Short.Passing Volleys Dribbling Curve FK.Accuracy
## 1               70            91      88        96    93          94
## 2               90            82      86        88    81          76
## 3               62            87      87        95    88          89
## 4               85            84      89        85    79          85
## 5               55            94      82        88    85          83
## 6               15            43      13        12    13          14
##   Long.Passing Ball.Control Acceleration Sprint.Speed Agility Reactions Balance
## 1           91           96           91           80      91        94      95
## 2           77           92           87           91      87        95      71
## 3           81           95           94           89      96        91      83
## 4           70           88           77           78      77        93      82
## 5           93           92           77           76      78        91      76
## 6           40           30           43           60      67        88      49
##   Shot.Power Jumping Stamina Strength Long.Shots Aggression Interceptions
## 1         86      68      72       69         94         44            40
## 2         94      95      84       78         93         63            29
## 3         80      62      81       50         84         51            36
## 4         89      84      76       86         85         81            49
## 5         91      63      89       74         91         76            66
## 6         59      78      41       78         12         34            19
##   Positioning Vision Penalties Composure Defensive.Awareness Standing.Tackle
## 1          93     95        75        96                  32              35
## 2          95     82        84        95                  28              32
## 3          87     90        92        93                  35              30
## 4          94     79        88        88                  35              42
## 5          88     94        84        91                  68              65
## 6          11     65        11        68                  27              12
##   Sliding.Tackle GK.Diving GK.Handling GK.Kicking GK.Positioning GK.Reflexes
## 1             24         6          11         15             14           8
## 2             24         7          11         15             14          11
## 3             29         9           9         15             15          11
## 4             19        15           6         12              8          10
## 5             53        15          13          5             10          13
## 6             18        87          92         78             90          90</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/JackJing001/EDAV-Final-Project/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/JackJing001/EDAV-Final-Project/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
